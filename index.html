<style>body {
    margin: 0;
    text-align: center;
    background-color: #000;
  }</style><canvas id="c"></canvas><script>function _toArray(e){return Array.isArray(e)?e:Array.from(e)}var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){function e(e,t){return Math.floor(Math.random()*(t+1-e)+e)}function t(t){return t[e(0,t.length-1)]}function n(){for(var t="#",n=0;n<6;n++)t+=e(0,9);return t}function r(){$=[];for(var e=void 0,n=0;n<x*T;n++)e=0===n?Q+U:n===x-1?V+U:n===x*(T-1)?Q+L:n===x*T-1?V+L:t(n<x-1?[V+Q,V+U+Q]:x*(T-1)<n?[V+Q,V+L+Q]:n%x?n%x==x-1?[L+U,L+V+U]:[V+L+Q+U,L+V+U,L+Q+U,V+L+Q,V+U+Q,L+U,V+Q,X]:[L+U,L+Q+U]),$[n]=e}function i(){Z=[];for(var e=0;e<x*T;e++){var t=e%x,r=(e-t)/x;$[e]!==X?(Z.push([t*S,r*S,k,k,n(),e]),Z.push([t*S+2*k,r*S,k,k,n(),e]),Z.push([t*S,r*S+2*k,k,k,n(),e]),Z.push([t*S+2*k,r*S+2*k,k,k,n(),e]),$[e]&L||Z.push([t*S+k,r*S,k,k,n(),e]),$[e]&V||Z.push([t*S,r*S+k,k,k,n(),e]),$[e]&U||Z.push([t*S+k,r*S+2*k,k,k,n(),e]),$[e]&Q||Z.push([t*S+2*k,r*S+k,k,k,n(),e])):Z.push([t*S+k,r*S+k,k,k,"red",e])}}function a(){F&&(C=requestAnimationFrame(a),u(),_=Date.now(),b((_-z)/1e3),z=_)}function o(e){F=e,F?(z=Date.now(),a()):cancelAnimationFrame(C)}function l(){E.drawImage(I,0,0,M,D,0,0,c.width,c.height)}function u(){switch(A){case m:R.fillStyle="white",R.fillRect(0,0,M,D),R.fillStyle="black",R.font="64px Arial",R.textAlign="center",R.fillText("a Tourist in Paris",M/2,D/2);break;case g:R.fillStyle="white",R.fillRect(0,0,M,D),Y[N]=n(),s(Y);var e=!0,t=!1,r=void 0;try{for(var i,a=Z[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){s(i.value)}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}break;case p:R.fillStyle="white",R.fillRect(0,0,M,D),R.fillStyle="black",R.font="48px Arial",R.textAlign="center",R.fillText("you "+(re?"win":"loose")+"!",M/2,D/2)}l()}function s(e){R.fillStyle=e[N],R.fillRect(Math.round(e[P]),Math.round(e[j]),e[q],e[H])}function f(e){var t=e*Y[K];Y[P]+=(Y[G]+Y[J])*t,Y[j]+=(Y[W]+Y[B])*t}function h(e){var t=Y[P]+Y[q],n=Y[j]+Y[H],r=e[P]+e[q],i=e[j]+e[H];return[Y[P]<r&&t>e[P]&&Y[j]<i&&n>e[j],t,n,r,i]}function d(e,t){var n=_slicedToArray(t,4),r=n[0],i=n[1],a=n[2],c=n[3],o=r-e[P],l=i-e[j],u=a-Y[P],s=c-Y[j];Y[J]&&Y[B]?o<l?Y[P]-=o:Y[j]-=l:Y[J]&&Y[W]?o<s?Y[P]-=o:Y[j]+=s:Y[J]?Y[P]-=o:Y[G]&&Y[B]?u<l?Y[P]+=u:Y[j]-=l:Y[G]&&Y[W]?u<s?Y[P]+=u:Y[j]+=s:Y[G]?Y[P]+=u:Y[B]?Y[j]-=l:Y[W]&&(Y[j]+=s)}function y(e){$[e[O]]===X&&"red"===e[N]&&(e[N]="green",te++)}function v(){te===ee&&(A=p,re=!0)}function w(){r(),i(),ee=$.reduce(function(e,t){return e+(t===X?1:0)},0),te=0,Y[W]=Y[B]=Y[G]=Y[J]=0,Y[P]=Y[j]=k,re=!1,ne=!1,A=g}function b(e){switch(A){case m:case p:ne&&w();break;case g:f(e);var t=!0,n=!1,r=void 0;try{for(var i,a=Z[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var c=i.value,o=h(c),l=_toArray(o),u=l[0],s=l.slice(1);u&&(d(c,s),y(c))}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}v()}}var m=0,g=1,p=2,A=m,k=20,S=3*k,x=10,T=8,E=c.getContext("2d"),M=x*S,D=T*S,I=c.cloneNode(),R=I.getContext("2d"),_=void 0,z=void 0,C=void 0,F=!0,P=0,j=1,q=2,H=3,N=4,O=5,W=5,B=6,G=7,J=8,K=9,L=1,Q=2,U=4,V=8,X=31,Y=[k,k,10,10,"blue",0,0,0,0,100],Z=[],$=[],ee=0,te=0,ne=!1,re=!1;onload=function(e){document.title="A Tourist in Paris",I.width=M,I.height=D,onresize(),o(!0)},document.onvisibilitychanged=function(e){o(!e.target.hidden)},onresize=onrotate=function(){var e=Math.min(innerWidth/M,innerHeight/D);c.width=M*e,c.height=D*e,[E,R].forEach(function(e){e.mozImageSmoothingEnabled=e.msImageSmoothingEnabled=e.imageSmoothingEnabled=!1})},onkeydown=function(e){switch(e.preventDefault(),A){case g:switch(e.which){case 37:case 65:case 81:Y[G]=-1;break;case 38:case 90:case 87:Y[W]=-1;break;case 39:case 68:Y[J]=1;break;case 40:case 83:Y[B]=1}}},onkeyup=function(e){switch(e.preventDefault(),A){case m:switch(e.which){case 13:case 78:ne=!0}case g:switch(e.which){case 37:case 65:case 81:Y[G]=0;break;case 38:case 90:case 87:Y[W]=0;break;case 39:case 68:Y[J]=0;break;case 40:case 83:Y[B]=0}break;case p:switch(e.which){case 13:case 78:ne=!0}}}}();
//# sourceMappingURL=game.js.map</script>